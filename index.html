<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å¸Œè‡˜è¨±é¡˜æ± å™´æ³‰å ´æ™¯ - Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      /* ğŸŒ¤ æ¸…æ™¨å¤©ç©ºï¼‹çŸ³æï¼‹æ°´çš„è‰²ç¥¨ */
      --sky-top: #bfe6ff;       /* æ¸…æ™¨åå†·çš„æ·¡è— */
      --sky-bottom: #ffe9c7;    /* æ—©æ™¨å…‰çš„æš–æ©˜ */
      --ground: #f3d9a4;        /* åœ°é¢æ·¡æ²™è‰² */
      --stone-main: #f4f0ea;    /* å™´æ³‰ä¸»é«”çŸ³æ */
      --stone-shadow: #d6cfc2;
      --water-light: #b8ecff;
      --water-main: #71d3ff;
      --water-dark: #2f9ad1;
      --accent-gold: #f9c75b;
      --bush: #7ac77a;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 20% 0%, #fffdf5 0, #fff3d9 35%, #f5e4c3 100%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    .wishing-scene-wrapper {
      width: 100%;
      max-width: 480px; /* æ‰‹æ©Ÿç‚ºä¸»ï¼Œå¤§ç‰ˆä¹Ÿä¸æœƒéå¯¬ */
      padding: 16px;
    }

    .wishing-scene {
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.08);
      background: linear-gradient(to bottom, var(--sky-top), var(--sky-bottom));
    }

    /* è®“ SVG åœ¨å„å°ºå¯¸è‡ªé©æ‡‰ */
    .wishing-scene svg {
      display: block;
      width: 100%;
      height: auto;
    }

    /* ğŸŸ¦ æ°´é¢å¾®å¾®æ³¢å‹•ï¼ˆå¸¸æ…‹ï¼‰ */
    @keyframes poolRipple {
      0%   { transform: scaleX(1) translateY(0); }
      50%  { transform: scaleX(1.03) translateY(-1.5px); }
      100% { transform: scaleX(1) translateY(0); }
    }

    .pool-water {
      transform-origin: center;
      animation: poolRipple 4.2s ease-in-out infinite;
    }

    .pool-ripple {
      transform-origin: center;
      opacity: 0.7;
      animation: poolRipple 5.4s ease-in-out infinite;
    }

    /* ğŸ’§ å¹³å¸¸çš„æ°´æŸ±ï¼šå°å¹…åº¦ä¸Šä¸‹å¾‹å‹• */
    @keyframes streamSoftPulse {
      0%   { transform: scaleY(1); }
      50%  { transform: scaleY(1.08); }
      100% { transform: scaleY(1); }
    }

    .stream-soft {
      transform-origin: bottom center;
      animation: streamSoftPulse 2.8s ease-in-out infinite;
    }

    /* ğŸ’¥ å™´ç™¼ç”¨çš„æ°´æŸ±ï¼šé è¨­ç¸®èµ·ä¾†ï¼Œåœ¨ eruption ç‹€æ…‹æ‰å±•é–‹ */
    .stream-erupt {
      transform-origin: bottom center;
      transform: scaleY(0);
      opacity: 0;
    }

    @keyframes eruptStream {
      0%   { transform: scaleY(0);   opacity: 0; }
      10%  { transform: scaleY(1.4); opacity: 1; }
      40%  { transform: scaleY(1.6); opacity: 1; }
      80%  { transform: scaleY(1.2); opacity: 0.8; }
      100% { transform: scaleY(0);   opacity: 0; }
    }

    .wishing-scene.eruption .stream-erupt {
      animation: eruptStream 3s cubic-bezier(0.25, 0.8, 0.3, 1) forwards;
    }

    /* å™´ç™¼æ™‚ä¹Ÿè®“æ°´é¢æ³¢å‹•ç•¥å¾®åŠ åŠ‡ */
    @keyframes poolRippleStrong {
      0%   { transform: scaleX(1) translateY(0); }
      30%  { transform: scaleX(1.06) translateY(-3px); }
      60%  { transform: scaleX(1.03) translateY(-1px); }
      100% { transform: scaleX(1) translateY(0); }
    }

    .wishing-scene.eruption .pool-water,
    .wishing-scene.eruption .pool-ripple {
      animation: poolRippleStrong 3s ease-out;
    }

    /* ğŸŒ¤ å°å¤ªé™½é–ƒå‹•ä¸€é»é»äº®åº¦ */
    @keyframes sunGlow {
      0%   { transform: scale(1); opacity: 0.9; }
      50%  { transform: scale(1.04); opacity: 1; }
      100% { transform: scale(1); opacity: 0.9; }
    }

    .sun {
      transform-origin: center;
      animation: sunGlow 5s ease-in-out infinite;
    }

    /* ğŸ“± å°è¨»è¨˜æ–‡å­— */
    .info-bar {
      margin-top: 8px;
      font-size: 12px;
      color: #555;
      text-align: center;
      line-height: 1.4;
    }

    .info-bar code {
      font-size: 11px;
      padding: 2px 4px;
      border-radius: 4px;
      background: rgba(0,0,0,0.04);
    }

    /* å¯é¸ï¼šé–‹ç™¼æ¸¬è©¦ç”¨æŒ‰éˆ•ï¼Œæ­£å¼ä¸Šç·šå¯ä»¥åˆªæ‰ */
    .debug-btn {
      margin-top: 8px;
      display: inline-block;
      padding: 4px 10px;
      font-size: 12px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.12);
      background: #fffdf7;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }

    .debug-btn:active {
      transform: translateY(1px);
      box-shadow: 0 1px 3px rgba(0,0,0,0.16);
    }

    @media (min-width: 768px) {
      .wishing-scene-wrapper {
        max-width: 640px;
      }
    }
  </style>
</head>

<body>
  <div class="wishing-scene-wrapper">
    <div class="wishing-scene" id="wishingScene">
      <!-- ä½¿ç”¨å›ºå®š viewBox çš„ SVG è®“ RWD æ™‚ç¶­æŒæ¯”ä¾‹ -->
      <svg viewBox="0 0 360 640" xmlns="http://www.w3.org/2000/svg" aria-labelledby="title desc" role="img">
        <title id="title">å¸Œè‡˜è¨±é¡˜æ± å™´æ³‰</title>
        <desc id="desc">ä¸€åº§å¡é€šé¢¨æ ¼çš„å¸Œè‡˜è¨±é¡˜æ± å™´æ³‰ï¼Œå¤©ç©ºç‚ºæ—©æ™¨çš„é¡è‰²ï¼Œæ°´é¢æœƒç·©æ…¢æ³¢å‹•ï¼Œæ¯åˆ°æ•´é»æœƒå™´ç™¼ã€‚</desc>

        <!-- ğŸŒ¤ å¤©ç©ºæ¼¸å±¤èƒŒæ™¯ -->
        <defs>
          <linearGradient id="skyGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#bfe6ff" />
            <stop offset="60%" stop-color="#ffe9c7" />
            <stop offset="100%" stop-color="#f3d9a4" />
          </linearGradient>

          <radialGradient id="sunGradient" cx="50%" cy="30%" r="40%">
            <stop offset="0%" stop-color="#ffecc0" />
            <stop offset="100%" stop-color="#ffce73" />
          </radialGradient>

          <radialGradient id="poolGradient" cx="50%" cy="40%" r="60%">
            <stop offset="0%" stop-color="#b8ecff" />
            <stop offset="40%" stop-color="#71d3ff" />
            <stop offset="100%" stop-color="#2f9ad1" />
          </radialGradient>

          <linearGradient id="stoneGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#f4f0ea" />
            <stop offset="100%" stop-color="#d6cfc2" />
          </linearGradient>
        </defs>

        <!-- èƒŒæ™¯å¤©ç©º -->
        <rect x="0" y="0" width="360" height="640" fill="url(#skyGradient)" />

        <!-- å¤ªé™½ -->
        <g class="sun">
          <circle cx="70" cy="80" r="32" fill="url(#sunGradient)" />
          <!-- å¤ªé™½å°å…‰èŠ’ -->
          <circle cx="70" cy="80" r="38" fill="none" stroke="#ffe6a0" stroke-width="3" opacity="0.4" />
        </g>

        <!-- é è™•å°å±±ï¼‹æ¨¹å¢ -->
        <path d="M -20 260 Q 80 190 180 240 T 380 260 L 380 320 L -20 320 Z"
              fill="#c9ddc0" opacity="0.8" />
        <path d="M -10 270 Q 60 230 140 260 T 380 280 L 380 340 L -10 340 Z"
              fill="#9dcf9a" opacity="0.85" />
        <!-- å·¦å³å°çŒæœ¨ -->
        <ellipse cx="60" cy="315" rx="32" ry="16" fill="#7ac77a" />
        <ellipse cx="300" cy="310" rx="28" ry="14" fill="#7ac77a" />

        <!-- åœ°é¢ -->
        <rect x="0" y="320" width="360" height="320" fill="var(--ground)" />

        <!-- ğŸŸ¦ æ°´æ± å¤–æ¡†ï¼ˆçŸ³æï¼‰ -->
        <ellipse cx="180" cy="390" rx="130" ry="38" fill="url(#stoneGradient)" />
        <ellipse cx="180" cy="392" rx="120" ry="34" fill="#e2dbcf" />

        <!-- ğŸŸ¦ æ°´æ± æ°´é¢ -->
        <g class="pool-water">
          <!-- ä¸»æ°´é¢ -->
          <ellipse cx="180" cy="386" rx="110" ry="26" fill="url(#poolGradient)" />
          <!-- æ°´é¢äº®é‚Š -->
          <ellipse cx="180" cy="380" rx="95" ry="18" fill="#ffffff" opacity="0.16" />

          <!-- å¹¾å€‹æ³¢ç´‹ç·šæ¢ -->
          <g class="pool-ripple">
            <ellipse cx="180" cy="388" rx="60" ry="10" fill="none" stroke="#ffffff" stroke-width="1.5" opacity="0.35" />
            <ellipse cx="180" cy="394" rx="80" ry="12" fill="none" stroke="#e4f8ff" stroke-width="1" opacity="0.35" />
          </g>
        </g>

        <!-- å™´æ³‰ä¸»é«”ï¼šåº•åº§ï¼‹æŸ±å­ï¼‹ä¸Šæ–¹ç›† -->
        <!-- åº•åº§ -->
        <rect x="120" y="340" width="120" height="18" rx="8" fill="url(#stoneGradient)" />
        <rect x="132" y="325" width="96" height="20" rx="8" fill="#f7f3ed" />
        <!-- æŸ±å­ -->
        <rect x="152" y="260" width="56" height="72" rx="10" fill="url(#stoneGradient)" />
        <!-- æŸ±å­è£é£¾ç·š -->
        <rect x="152" y="270" width="56" height="6" rx="3" fill="#ebe5dc" />
        <rect x="152" y="303" width="56" height="6" rx="3" fill="#ebe5dc" />

        <!-- ä¸Šæ–¹ç›† -->
        <ellipse cx="180" cy="252" rx="60" ry="18" fill="#f7f3ed" />
        <ellipse cx="180" cy="250" rx="54" ry="14" fill="#ebe5dc" />
        <!-- ç›†å…§æ°´ -->
        <ellipse cx="180" cy="248" rx="44" ry="9" fill="#9be0ff" opacity="0.9" />

        <!-- ä¸­å¿ƒå¸¸æ…‹æ°´æŸ±ï¼ˆæŸ”å’Œï¼‰ -->
        <g class="stream-soft" fill="none" stroke="#9be0ff" stroke-width="4" stroke-linecap="round">
          <path d="M180 246 Q 180 220 180 190" />
          <path d="M170 248 Q 172 228 170 210" opacity="0.65" />
          <path d="M190 248 Q 188 228 190 210" opacity="0.65" />
        </g>

        <!-- å™´ç™¼ç”¨æ°´æŸ±ï¼ˆæ•´é»å‡ºç¾ï¼‰ -->
        <g class="stream-erupt" fill="none" stroke="#b9ecff" stroke-width="4" stroke-linecap="round">
          <!-- ä¸­å¿ƒé«˜å™´æŸ± -->
          <path d="M180 246 Q 180 190 180 150" />
          <!-- å·¦å³å¼§ç·š -->
          <path d="M168 246 Q 150 210 148 185" />
          <path d="M192 246 Q 210 210 212 185" />
          <!-- é¡å¤–å°æ°´èŠ± -->
          <path d="M175 160 Q 168 150 165 145" />
          <path d="M185 160 Q 192 150 195 145" />
        </g>

        <!-- æ°´æ»´å›è½æ•ˆæœï¼ˆç°¡å–®å¹¾é¡†ï¼‰ -->
        <g class="stream-erupt" fill="#b9ecff">
          <circle cx="160" cy="200" r="3" />
          <circle cx="200" cy="195" r="3" />
          <circle cx="175" cy="175" r="2.4" />
          <circle cx="190" cy="170" r="2.2" />
        </g>

        <!-- æ± é‚Šå°é‡‘å¹£ï¼ˆä¹‹å¾Œå¯ä»¥ç•¶éŠæˆ²äº’å‹•å…ƒç´ ï¼‰ -->
        <circle cx="120" cy="398" r="6" fill="#f9c75b" stroke="#e2a93a" stroke-width="2" />
        <circle cx="238" cy="402" r="5" fill="#f9c75b" stroke="#e2a93a" stroke-width="2" />
        <circle cx="205" cy="392" r="4.5" fill="#f9c75b" stroke="#e2a93a" stroke-width="2" />

      </svg>
    </div>

    <div class="info-bar">
      ğŸ’¡ æ¯åˆ°ã€Œæ•´é»ã€æœƒè‡ªå‹•è§¸ç™¼å™´æ³‰å™´ç™¼å‹•ç•«ã€‚<br />
      é–‹ç™¼æ™‚å¯åœ¨ Console å‘¼å« <code>triggerFountain()</code> æ‰‹å‹•æ¸¬è©¦ï¼Œ<br />
      æˆ–æŒ‰ä¸‹ä¸‹æ–¹æŒ‰éˆ•ã€‚
      <div>
        <button class="debug-btn" id="debugBtn">è©¦å™´ä¸€æ¬¡ï¼ˆé–‹ç™¼ç”¨ï¼‰</button>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const scene = document.getElementById("wishingScene");
      const debugBtn = document.getElementById("debugBtn");

      function triggerFountain() {
        if (!scene) return;
        scene.classList.add("eruption");

        // å™´ç™¼å‹•ç•«å¤§ç´„ 3 ç§’ï¼Œä¿éšªæŠ“ 3.5 ç§’å¾Œç§»é™¤ class
        setTimeout(() => {
          scene.classList.remove("eruption");
        }, 3500);
      }

      // å°å¤–æ›ä¸€å€‹ global functionï¼Œæ–¹ä¾¿åœ¨ console æ¸¬è©¦
      window.triggerFountain = triggerFountain;

      // é–‹ç™¼æ¸¬è©¦æŒ‰éˆ•
      if (debugBtn) {
        debugBtn.addEventListener("click", triggerFountain);
      }

      // è¨ˆç®—è·é›¢ä¸‹ä¸€å€‹æ•´é»çš„æ¯«ç§’æ•¸
      function scheduleHourlyEruption() {
        const now = new Date();
        const nextHour = new Date(now);

        // ä¸‹ä¸€å€‹æ•´é»ï¼šå°æ™‚+1ï¼Œåˆ†ç§’æ¯«ç§’æ­¸é›¶
        nextHour.setHours(now.getHours() + 1, 0, 0, 0);

        const delay = nextHour.getTime() - now.getTime();

        // åˆ°ä¸‹ä¸€å€‹æ•´é»æ™‚å…ˆå™´ä¸€æ¬¡ï¼Œä¹‹å¾Œæ¯å°æ™‚å™´ä¸€æ¬¡
        setTimeout(() => {
          triggerFountain();
          setInterval(triggerFountain, 60 * 60 * 1000); // æ¯ 60 åˆ†é˜
        }, delay);
      }

      scheduleHourlyEruption();
    })();
  </script>
</body>
</html>
